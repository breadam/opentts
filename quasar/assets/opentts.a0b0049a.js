import{j as a}from"./index.d9b25c46.js";const c=a("opentts",{state:()=>({serverURL:"http://localhost:5500",languages:[],voices:[],selectedVoice:null,selectedLanguage:null,selectedSpeaker:null}),getters:{},actions:{async initialize(){const e=localStorage.getItem("url");e&&(this.serverURL=e),this.selectedLanguage=localStorage.getItem("language"),await this.fetchLanguages(),await this.fetchVoices();const t=localStorage.getItem("voice");this.selectedVoice=this.voices.find(s=>s.id===t)},async fetchSound(e){return(await this.api.get(this.serverURL+"/api/tts",{params:{text:e,voice:this.selectedVoice.query,speakerId:this.selectedSpeaker},responseType:"blob"})).data},async fetchLanguages(){const e=await this.api.get(this.serverURL+"/api/languages");this.languages=e.data.sort()},async fetchVoices(){const e=await this.api.get(this.serverURL+"/api/voices",{params:{language:this.selectedLanguage}});console.log(this.voices),this.voices=Object.entries(e.data).map(t=>({...t[1],query:t[0]}))}}});export{c as u};
